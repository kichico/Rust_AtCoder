A:for文
B:問題文を読み間違えました、6桁を3桁にしてsetに突っ込む
C:122..21の形になっているか判定　早期returnをし忘れる(2敗)
D:正規表現わかんね
E:うーん？suffx arrayとかでできる？